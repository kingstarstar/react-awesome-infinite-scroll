module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=21)}([function(e,t){e.exports=require("react")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/reflect/construct")},function(e,t){e.exports=require("@babel/runtime-corejs3/helpers/esm/assertThisInitialized")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/instance/bind")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/object/get-own-property-descriptors")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/instance/for-each")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/object/get-own-property-descriptor")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/object/get-own-property-symbols")},function(e,t){e.exports=require("@babel/runtime-corejs3/helpers/esm/getPrototypeOf")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/parse-float")},function(e,t){e.exports=require("@babel/runtime-corejs3/helpers/esm/typeof")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/object/define-property")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/object/define-properties")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/instance/filter")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/object/keys")},function(e,t){e.exports=require("@babel/runtime-corejs3/helpers/esm/defineProperty")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/set-timeout")},function(e,t){e.exports=require("@babel/runtime-corejs3/helpers/esm/classCallCheck")},function(e,t){e.exports=require("@babel/runtime-corejs3/helpers/esm/createClass")},function(e,t){e.exports=require("@babel/runtime-corejs3/helpers/esm/inherits")},function(e,t){e.exports=require("@babel/runtime-corejs3/helpers/esm/possibleConstructorReturn")},function(e,t,n){"use strict";n.r(t);var r=n(11),o=n.n(r),i=n(12),l=n.n(i),s=n(4),a=n.n(s),u=n(5),c=n.n(u),f=n(6),d=n.n(f),p=n(13),h=n.n(p),m=n(7),v=n.n(m),g=n(14),b=n.n(g),y=n(1),w=n.n(y),x=n(15),j=n.n(x),E=n(3),S=n.n(E),T=n(16),C=n.n(T),L=n(17),q=n.n(L),D=n(18),P=n.n(D),M=n(2),R=n.n(M),H=n(19),A=n.n(H),O=n(20),_=n.n(O),k=n(8),Y=n.n(k),B=n(0),F=n.n(B),W=n(9),N=n.n(W),V="Pixel",X="Percent",z={unit:X,value:.8};function $(e){return"number"==typeof e?{unit:X,value:100*e}:"string"==typeof e?e.match(/^(\d*(\.\d+)?)px$/)?{unit:V,value:N()(e)}:e.match(/^(\d*(\.\d+)?)%$/)?{unit:X,value:N()(e)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),z):(console.warn("scrollThreshold should be string or number"),z)}var I=0,U=function(e){var t=(new Date).getTime(),n=Math.max(0,16.7-(t-I)),r=window.setTimeout((function(){e(t+n)}),n);return I=t+n,r},G=function(e){return clearTimeout(e)};"undefined"!=typeof window&&"requestAnimationFrame"in window&&(U=function(e){return window.requestAnimationFrame(e)},G=function(e){return window.cancelAnimationFrame(e)});var J={setRaf:U,cancelRaf:G},K=n(10),Q=n.n(K);function Z(e){return"object"===("undefined"==typeof HTMLElement?"undefined":Q()(HTMLElement))?e instanceof HTMLElement:e&&"object"===Q()(e)&&1===e.nodeType&&"string"==typeof e.nodeName}function ee(e){var t={};return e instanceof MouseEvent?t={x:e.clientX+te().x,y:e.clientY+te().y}:e instanceof TouchEvent?t={x:e.touches[0].clientX+te().x,y:e.touches[0].clientY+te().y}:Z(e)&&(t={x:e.getBoundingClientRect().left+te().x,y:e.getBoundingClientRect().top+te().y}),t}function te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body||document.documentElement;if(Z(e)){if(e===document.body||e===document.documentElement){var t=e.ownerDocument,n=t.defaultView,r=t.documentElement.scrollLeft||n.pageXOffset||t.body.scrollLeft,o=t.documentElement.scrollTop||n.pageYOffset||t.body.scrollTop;return{x:r,y:o}}var i=e.scrollLeft,l=e.scrollTop;return{x:i,y:l}}}function ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body||document.documentElement;if(Z(e)){if(e===document.body||e===document.documentElement){var t=e.clientWidth||window.screen.availWidth,n=e.clientHeight||window.screen.availHeight;return{x:t,y:n}}var r=e.clientWidth,o=e.clientHeight;return{x:r,y:o}}}function re(e,t){var n=b()(e);if(v.a){var r=v()(e);t&&(r=h()(r).call(r,(function(t){return d()(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){var t=function(){if("undefined"==typeof Reflect||!w.a)return!1;if(w.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(w()(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Y()(e);if(t){var o=Y()(this).constructor;n=w()(r,arguments,o)}else n=r.apply(this,arguments);return _()(this,n)}}var ie=function(e){A()(n,e);var t=oe(n);function n(e){var r,o,i,l;return q()(this,n),(l=t.call(this,e)).lastScrollTop=0,l.finishTrigger=!1,l.dragging=!1,l.getScrollableTarget=function(){var e=l.props,t=e.height,n=e.scrollableTarget;return Z(n)&&t?n:"string"==typeof n?document.querySelector(n):t?l.scrollContainer:document.body||document.documentElement},l.onStart=function(e){l.lastScrollTop||(l.dragging=!0,l.setState({preStartY:ee(e).y}),l.scrollContainer&&(l.scrollContainer.style.willChange="transform",l.scrollContainer.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},l.onMove=function(e){var t;if(l.dragging){var n=ee(e).y,r=l.state.preStartY,o=l.props,i=o.minPullDown,s=o.maxPullDown;n<r||((i>=s||i>=l.pullAreaHeight)&&(console.warn('"minPullDown" is large than pull-down area\'s height or "maxPullDown", please set "maxPullDown" and "maxPullDown" should large than "minPullDown"'),i>=s&&(i=0)),n-r>=(null!==(t=i)&&void 0!==t?t:l.pullAreaHeight)&&l.setState({showRelease:!0}),n-r>(null!=s?s:l.pullAreaHeight)||l.setDrag(n,r))}},l.onEnd=function(){var e=l.props.refreshFunction;if("function"!=typeof e)throw new Error('"refreshFunction" is not function or missing');l.state.showRelease&&(e&&e(),l.setState({showRelease:!1})),J.setRaf(l.resetDrag),l.setState({startY:0,preStartY:0}),l.dragging=!1},l.resetDrag=function(){l.scrollContainer&&(l.scrollContainer.style.overflow="auto",l.scrollContainer.style.transform="none",l.scrollContainer.style.willChange="none",l.scrollContainer.style.paddingBottom="0px")},l.setDrag=function(e,t){l.scrollContainer&&(l.scrollContainer.style.overflow="visible",l.scrollContainer.style.transform="translate3d(0px, ".concat(e-t,"px, 0px)"),l.scrollContainer.style.paddingBottom="".concat(e-t,"px"))},l.onScrollListener=function(e){var t=l.props,n=t.onScroll,r=t.inverse,o=t.thresholdValue,i=t.hasMore,s=t.next;if("function"==typeof n&&C()((function(){return n&&n(e)}),0),!l.finishTrigger){var a=l.getScrollableTarget();(r?l.isElementAtTop(a,o):l.isElementAtBottom(a,o))&&i&&(l.finishTrigger=!0,l.setState({loadingEnd:!0}),s&&s()),l.lastScrollTop=a.scrollTop}},l.state={loadingEnd:!1,showRelease:!1,_self:R()(l)},l.pullAreaHeight=0,l.throttledOnScrollListener=l.onScrollListener,l.onStart=S()(r=l.onStart).call(r,R()(l)),l.onMove=S()(o=l.onMove).call(o,R()(l)),l.onEnd=S()(i=l.onEnd).call(i,R()(l)),l}return P()(n,[{key:"componentDidMount",value:function(){var e,t,n,r=this.props,o=r.initialScrollY,i=r.pullDownToRefresh;(this.el=this.getScrollableTarget()===(document.body||document.documentElement)?document||window:this.getScrollableTarget(),this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),"number"==typeof o&&this.el&&Z(this.el)&&this.el.scrollHeight>o&&this.el.scrollTo(0,o),i&&this.el)&&(this.el.addEventListener("touchstart",this.onStart,{passive:!1}),this.el.addEventListener("touchmove",this.onMove,{passive:!1}),this.el.addEventListener("touchend",this.onEnd,{passive:!1}),this.el.addEventListener("mousedown",this.onStart,{passive:!1}),this.el.addEventListener("mousemove",this.onMove,{passive:!1}),this.el.addEventListener("mouseup",this.onEnd,{passive:!1}),this.pullAreaHeight=(null===(e=this.pullArea)||void 0===e||null===(t=e.firstChild)||void 0===t||null===(n=t.getBoundingClientRect())||void 0===n?void 0:n.height)||0)}},{key:"componentWillUnmount",value:function(){var e=this.props.pullDownToRefresh;this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener,{passive:!1}),e&&(this.el.removeEventListener("touchstart",this.onStart,{passive:!1}),this.el.removeEventListener("touchmove",this.onMove,{passive:!1}),this.el.removeEventListener("touchend",this.onEnd,{passive:!1}),this.el.removeEventListener("mousedown",this.onStart,{passive:!1}),this.el.removeEventListener("mousemove",this.onMove,{passive:!1}),this.el.removeEventListener("mouseup",this.onEnd,{passive:!1}),J.cancelRaf(this.resetDrag)))}},{key:"isElementAtTop",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.8,n=ne(e).y,r=te(e).y,o=$(t);return o.unit===V?r<=o.value+n-e.scrollHeight+1||0===r:r<=o.value/100+n-e.scrollHeight+1||0===r}},{key:"isElementAtBottom",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.6,n=ne(e).y,r=te(e).y,o=$(t);return o.unit===V?r+n>=e.scrollHeight-o.value:r+n>=o.value/100*e.scrollHeight}},{key:"render",value:function(){var e=this,t=this.props,n=t.height,r=t.style,i=t.children,s=t.pullDownToRefresh,u=t.releaseToRefreshContent,f=t.pullDownToRefreshContent,p=t.endMessage,h=t.loader,m=t.hasMore,v=t.className,g=function(e){for(var t=1;t<arguments.length;t++){var n,r=null!=arguments[t]?arguments[t]:{};if(t%2)c()(n=re(Object(r),!0)).call(n,(function(t){j()(e,t,r[t])}));else if(a.a)l()(e,a()(r));else{var i;c()(i=re(Object(r))).call(i,(function(t){o()(e,t,d()(r,t))}))}}return e}({height:n||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},r),b=!!(i&&i instanceof Array&&i.length),y=s&&n?{overflow:"hidden"}:{};return F.a.createElement("div",{style:y,className:"infinite-scroll-component__outerdiv"},F.a.createElement("div",{className:"infinite-scroll-component ".concat(v||""),ref:function(t){return e.scrollContainer=t},style:g},s&&F.a.createElement("div",{style:{position:"relative"},ref:function(t){return e.pullArea=t}},F.a.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.pullAreaHeight}},this.state.showRelease?u:f)),i,(this.state.loadingEnd||!this.state.loadingEnd&&!b)&&m&&h,!m&&p))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.preProps,r=t._self;return n&&F.a.Children.count(n.children)!=F.a.Children.count(e.children)?(r.finishTrigger=!1,{loadingEnd:!1,preProps:e}):{loadingEnd:!1,preProps:e}}}]),n}(B.Component);ie.defaultProps={};t.default=ie}]);