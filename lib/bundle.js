module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=22)}([function(e,t){e.exports=require("react")},function(e,t){e.exports=require("@babel/runtime-corejs3/helpers/esm/typeof")},function(e,t){e.exports=require("@babel/runtime-corejs3/helpers/esm/assertThisInitialized")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/set-timeout")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/reflect/construct")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/instance/bind")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/instance/index-of")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/object/get-own-property-descriptors")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/instance/for-each")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/object/get-own-property-descriptor")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/object/get-own-property-symbols")},function(e,t){e.exports=require("@babel/runtime-corejs3/helpers/esm/getPrototypeOf")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/parse-float")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/object/define-property")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/object/define-properties")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/instance/filter")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/object/keys")},function(e,t){e.exports=require("@babel/runtime-corejs3/helpers/esm/defineProperty")},function(e,t){e.exports=require("@babel/runtime-corejs3/helpers/esm/classCallCheck")},function(e,t){e.exports=require("@babel/runtime-corejs3/helpers/esm/createClass")},function(e,t){e.exports=require("@babel/runtime-corejs3/helpers/esm/inherits")},function(e,t){e.exports=require("@babel/runtime-corejs3/helpers/esm/possibleConstructorReturn")},function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),l=n(14),i=n.n(l),s=n(7),a=n.n(s),c=n(8),u=n.n(c),f=n(9),d=n.n(f),p=n(15),m=n.n(p),h=n(10),v=n.n(h),b=n(16),g=n.n(b),y=n(4),x=n.n(y),w=n(17),j=n.n(w),E=n(5),T=n.n(E),S=n(3),P=n.n(S),C=n(18),L=n.n(C),q=n(19),M=n.n(q),D=n(2),H=n.n(D),R=n(20),A=n.n(R),O=n(21),_=n.n(O),k=n(11),B=n.n(k),N=n(0),Y=n.n(N);var F=n(12),W=n.n(F),V="Pixel",X="Percent",z={unit:X,value:.8};function $(e){return"number"==typeof e?{unit:X,value:100*e}:"string"==typeof e?e.match(/^(\d*(\.\d+)?)px$/)?{unit:V,value:W()(e)}:e.match(/^(\d*(\.\d+)?)%$/)?{unit:X,value:W()(e)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),z):(console.warn("scrollThreshold should be string or number"),z)}var I=0,U=function(e){var t=(new Date).getTime(),n=Math.max(0,16.7-(t-I)),r=window.setTimeout((function(){e(t+n)}),n);return I=t+n,r},G=function(e){return clearTimeout(e)};"undefined"!=typeof window&&"requestAnimationFrame"in window&&(U=function(e){return window.requestAnimationFrame(e)},G=function(e){return window.cancelAnimationFrame(e)});var J={setRaf:U,cancelRaf:G},K=n(6),Q=n.n(K),Z=n(1),ee=n.n(Z);function te(e){return"object"===("undefined"==typeof HTMLElement?"undefined":ee()(HTMLElement))?e instanceof HTMLElement:e&&"object"===ee()(e)&&1===e.nodeType&&"string"==typeof e.nodeName}function ne(e){var t={};return e instanceof MouseEvent?t={x:e.clientX+re().x,y:e.clientY+re().y}:e instanceof TouchEvent?t={x:e.touches[0].clientX+re().x,y:e.touches[0].clientY+re().y}:te(e)&&(t={x:e.getBoundingClientRect().left+re().x,y:e.getBoundingClientRect().top+re().y}),t}function re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body||document.documentElement;if(te(e)){if(e===document.body||e===document.documentElement){var t=e.ownerDocument,n=t.defaultView,r=t.documentElement.scrollLeft||n.pageXOffset||t.body.scrollLeft,o=t.documentElement.scrollTop||n.pageYOffset||t.body.scrollTop;return{x:r,y:o}}var l=e.scrollLeft,i=e.scrollTop;return{x:l,y:i}}}function oe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body||document.documentElement;if(te(e)){if(e===document.body||e===document.documentElement){var t=e.clientWidth||window.screen.availWidth,n=e.clientHeight||window.screen.availHeight;return{x:t,y:n}}var r=e.clientWidth,o=e.clientHeight;return{x:r,y:o}}}function le(e){if(te(e))return e.scrollTop>0||(e.scrollTop++,e.scrollTop>0)}function ie(e){return"object"===("undefined"==typeof HTMLElement?"undefined":ee()(HTMLElement))?e instanceof HTMLElement:e&&"object"===ee()(e)&&1===e.nodeType&&"string"==typeof e.nodeName}function se(e,t){var n=g()(e);if(v.a){var r=v()(e);t&&(r=m()(r).call(r,(function(t){return d()(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){var t=function(){if("undefined"==typeof Reflect||!x.a)return!1;if(x.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(x()(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=B()(e);if(t){var o=B()(this).constructor;n=x()(r,arguments,o)}else n=r.apply(this,arguments);return _()(this,n)}}var ce=function(e){A()(n,e);var t=ae(n);function n(e){var r,o,l,i,s;return L()(this,n),(s=t.call(this,e)).lastScrollTop=0,s.dragging=!1,s.finishTrigger=!1,s.getScrollableTarget=function(){var e=s.props.height,t=s.state.scrollableParent,n=function(e,t){var n=[document.body,document.documentElement];if(Q()(n).call(n,e)>-1)return document.body||document.documentElement;var r=e.parentNode;if(t)for(;-1==Q()(n).call(n,r)&&t>0;){if(le(r))return r;r=r.parentNode,t--}else for(;-1==Q()(n).call(n,r);){if(le(r))return r;r=r.parentNode}return document.body||document.documentElement}(s.scrollContainer);return ie(t)?t:"string"==typeof t?document.querySelector(t):e?s.scrollContainer:n},s.onStart=function(e){s.lastScrollTop||(s.dragging=!0,s.setState({preStartY:ne(e).y}),s.scrollContainer&&(s.scrollContainer.style.willChange="transform",s.scrollContainer.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},s.onMove=function(e){var t;if(s.dragging){var n=ne(e).y,r=s.state.preStartY,o=s.props,l=o.minPullDown,i=o.maxPullDown;n<r||((l>=i||l>=s.pullAreaHeight)&&(console.warn('"minPullDown" is large than pull-down area\'s height or "maxPullDown", please set "maxPullDown" and "maxPullDown" should large than "minPullDown"'),l>=i&&(l=0)),n-r>=(null!==(t=l)&&void 0!==t?t:s.pullAreaHeight)&&s.setState({showRelease:!0}),n-r>(null!=i?i:s.pullAreaHeight)||s.setDrag(n,r))}},s.onEnd=function(){var e=s.props.refreshFunction;if("function"!=typeof e)throw new Error('"refreshFunction" is not function or missing');s.state.showRelease&&(e&&e(),s.setState({showRelease:!1})),J.setRaf(s.resetDrag),s.setState({startY:0,preStartY:0}),s.dragging=!1},s.resetDrag=function(){s.scrollContainer&&(s.scrollContainer.style.overflow="auto",s.scrollContainer.style.transform="none",s.scrollContainer.style.willChange="none",s.scrollContainer.style.paddingBottom="0px")},s.setDrag=function(e,t){s.scrollContainer&&(s.scrollContainer.style.overflow="visible",s.scrollContainer.style.transform="translate3d(0px, ".concat(e-t,"px, 0px)"),s.scrollContainer.style.paddingBottom="".concat(e-t,"px"))},s.onScrollListener=function(e){var t=s.props,n=t.onScroll,r=t.inverse,o=t.thresholdValue,l=t.hasMore,i=t.forbidTrigger,a=t.next;if("function"==typeof n&&P()((function(){return n&&n(e)}),0),!s.finishTrigger&&!i){var c=s.scrollParent;(r?s.isElementAtTop(c,o):s.isElementAtBottom(c,o))&&l&&(s.finishTrigger=!0,s.setState({loading:!0}),a&&a()),s.lastScrollTop=c.scrollTop}},s.state={loading:!1,showRelease:!1,_self:H()(s)},s.pullAreaHeight=0,s.throttledOnScrollListener=T()(r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:160,n=null;return function(){n||(n=P()((function(){e.apply(this,arguments),n=null}),t))}}(s.onScrollListener)).call(r,H()(s)),s.onStart=T()(o=s.onStart).call(o,H()(s)),s.onMove=T()(l=s.onMove).call(l,H()(s)),s.onEnd=T()(i=s.onEnd).call(i,H()(s)),s}return M()(n,[{key:"componentDidMount",value:function(){var e=this;P()((function(){var t,n,r,o=e.props,l=o.initialScrollY,i=o.pullDownToRefresh;(e.scrollParent=e.getScrollableTarget(),e.el=e.scrollParent===(document.body||document.documentElement)?document||window:e.scrollParent,e.el&&e.el.addEventListener("scroll",e.throttledOnScrollListener),"number"==typeof l&&e.el&&ie(e.el)&&e.el.scrollHeight>l&&e.el.scrollTo(0,l),i&&e.el)&&(e.el.addEventListener("touchstart",e.onStart),e.el.addEventListener("touchmove",e.onMove),e.el.addEventListener("touchend",e.onEnd),e.el.addEventListener("mousedown",e.onStart),e.el.addEventListener("mousemove",e.onMove),e.el.addEventListener("mouseup",e.onEnd),e.pullAreaHeight=(null===(t=e.pullArea)||void 0===t||null===(n=t.firstChild)||void 0===n||null===(r=n.getBoundingClientRect())||void 0===r?void 0:r.height)||0)}),0)}},{key:"componentWillUnmount",value:function(){var e=this.props.pullDownToRefresh;this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),e&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd),J.cancelRaf(this.resetDrag)))}},{key:"isElementAtTop",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.8,n=oe(e).y,r=re(e).y,o=$(t);return o.unit===V?r<=o.value+n-e.scrollHeight+1||0===r:r<=o.value/100+n-e.scrollHeight+1||0===r}},{key:"isElementAtBottom",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.8,n=oe(e).y,r=re(e).y,o=$(t);return o.unit===V?r+n>=e.scrollHeight-o.value:r+n>=o.value/100*e.scrollHeight}},{key:"render",value:function(){var e=this,t=this.props,n=t.height,r=t.containerStyle,l=t.children,s=t.pullDownToRefresh,c=t.releaseToRefreshContent,f=t.pullDownToRefreshContent,p=t.endMessage,m=t.loader,h=t.hasMore,v=t.className,b=this.state.scrollableParent,g=!!(l&&l instanceof Array&&l.length),y=s&&n?{overflow:"hidden"}:{},x=function(e){for(var t=1;t<arguments.length;t++){var n,r=null!=arguments[t]?arguments[t]:{};if(t%2)u()(n=se(Object(r),!0)).call(n,(function(t){j()(e,t,r[t])}));else if(a.a)i()(e,a()(r));else{var l;u()(l=se(Object(r))).call(l,(function(t){o()(e,t,d()(r,t))}))}}return e}({height:n||"auto",overflow:b?"visible":"auto",WebkitOverflowScrolling:"touch",paddingBottom:"16px"},r);return Y.a.createElement("div",{style:y,className:"infinite-scroll-component__outerdiv"},Y.a.createElement("div",{className:"infinite-scroll-component ".concat(v||""),ref:function(t){return e.scrollContainer=t},style:x},s&&Y.a.createElement("div",{style:{position:"relative"},ref:function(t){return e.pullArea=t}},Y.a.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.pullAreaHeight}},this.state.showRelease?c:f)),l,(this.state.loading||!this.state.loading&&!g)&&h&&m,!h&&p))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.preProps,r=t._self;if(n){if(Y.a.Children.count(n.children)!=Y.a.Children.count(e.children))return r.finishTrigger=!1,{loading:!1,preProps:e};if(e.scrollableParent!=n.scrollableParent)return{scrollableParent:e.scrollableParent,preProps:e}}return{scrollableParent:e.scrollableParent,preProps:e}}}]),n}(N.Component);ce.defaultProps={};t.default=ce}]);